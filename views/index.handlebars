<div id="container">
    <h1>Registration webapp</h1>
    <p id="error-message">{{error}}</p>
    <form action="/add_reg" method="POST">
        <label for="reg">Registration Number : </label>
        <input type="text" value="" name="reg">
        <button type="submit">Add</button>
    </form>

    <p id="success-message">{{success}}</p>

    <form action="/town_regs" method="POST">
        <input type="radio" name="town" value="Cape Town"> Cape Town
        <input type="radio" name="town" value="Bellville"> Bellville
        <input type="radio" name="town" value="Stellenbosch"> Stellenbosch
        <button type="submit">Show</button>
    </form>

    <form action="/reset" method="GET" onsubmit="resetRegs()">
        <button type="submit">Reset</button>
    </form>

    {{#each regs}}
        <div id="reg-display">
            <p class="reg-plate">{{registration}}</p>
        </div>
    {{/each}}

</div>


<script>
    function resetRegs(){
        alert('You have just deleted all the records in the registrations table');
    }

    let errorMessage = document.querySelector('#error-message');
    let successMessage = document.querySelector('#success-message');

    if(errorMessage){
       setTimeout(function(){
            errorMessage.textContent = '';
       }, 3000)
    } 
    
    if(successMessage){
        setTimeout(function(){
            successMessage.textContent = '';
        }, 3000)
    }
</script>